webpackJsonp([33],{"./node_modules/antd/lib/alert/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/alert/style/index.less")},"./node_modules/antd/lib/alert/style/index.less":function(e,t){},"./node_modules/antd/lib/calendar/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/calendar/style/index.less"),n("./node_modules/antd/lib/select/style/index.js"),n("./node_modules/antd/lib/radio/style/index.js")},"./node_modules/antd/lib/calendar/style/index.less":function(e,t){},"./node_modules/antd/lib/cascader/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/cascader/style/index.less"),n("./node_modules/antd/lib/input/style/index.js")},"./node_modules/antd/lib/cascader/style/index.less":function(e,t){},"./node_modules/antd/lib/checkbox/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/checkbox/style/index.less")},"./node_modules/antd/lib/checkbox/style/index.less":function(e,t){},"./node_modules/antd/lib/date-picker/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/date-picker/style/index.less"),n("./node_modules/antd/lib/input/style/index.js"),n("./node_modules/antd/lib/time-picker/style/index.js")},"./node_modules/antd/lib/date-picker/style/index.less":function(e,t){},"./node_modules/antd/lib/dropdown/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/dropdown/style/index.less"),n("./node_modules/antd/lib/button/style/index.js")},"./node_modules/antd/lib/dropdown/style/index.less":function(e,t){},"./node_modules/antd/lib/input/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/input/style/index.less")},"./node_modules/antd/lib/input/style/index.less":function(e,t){},"./node_modules/antd/lib/message/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/message/style/index.less")},"./node_modules/antd/lib/message/style/index.less":function(e,t){},"./node_modules/antd/lib/pagination/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/pagination/style/index.less"),n("./node_modules/antd/lib/select/style/index.js"),n("./node_modules/antd/lib/input/style/index.js")},"./node_modules/antd/lib/pagination/style/index.less":function(e,t){},"./node_modules/antd/lib/progress/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/progress/style/index.less")},"./node_modules/antd/lib/progress/style/index.less":function(e,t){},"./node_modules/antd/lib/radio/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/radio/style/index.less")},"./node_modules/antd/lib/radio/style/index.less":function(e,t){},"./node_modules/antd/lib/select/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/select/style/index.less"),n("./node_modules/antd/lib/input/style/index.js")},"./node_modules/antd/lib/select/style/index.less":function(e,t){},"./node_modules/antd/lib/spin/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/spin/style/index.less")},"./node_modules/antd/lib/spin/style/index.less":function(e,t){},"./node_modules/antd/lib/table/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/table/style/index.less"),n("./node_modules/antd/lib/radio/style/index.js"),n("./node_modules/antd/lib/checkbox/style/index.js"),n("./node_modules/antd/lib/dropdown/style/index.js"),n("./node_modules/antd/lib/spin/style/index.js"),n("./node_modules/antd/lib/pagination/style/index.js")},"./node_modules/antd/lib/table/style/index.less":function(e,t){},"./node_modules/antd/lib/time-picker/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/time-picker/style/index.less"),n("./node_modules/antd/lib/input/style/index.js")},"./node_modules/antd/lib/time-picker/style/index.less":function(e,t){},"./node_modules/antd/lib/tooltip/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/tooltip/style/index.less")},"./node_modules/antd/lib/tooltip/style/index.less":function(e,t){},"./node_modules/antd/lib/upload/style/index.js":function(e,t,n){"use strict";n("./node_modules/antd/lib/style/index.less"),n("./node_modules/antd/lib/upload/style/index.less"),n("./node_modules/antd/lib/progress/style/index.js"),n("./node_modules/antd/lib/tooltip/style/index.js")},"./node_modules/antd/lib/upload/style/index.less":function(e,t){},'./node_modules/babel-loader/lib/index.js?{"plugins":["external-helpers"]}!./src/web/pages/createStockInventory/createStockInventory.js':function(e,t,n){"use strict";function o(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function a(e,t,n,o,a){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s,l,i,d,p,u,c,m,v,y,f,b,g,h,_,S,j,x,I,D,k,C,w=babelHelpers.taggedTemplateLiteral(["按活动店铺历史30天GMV表现占比对目标进行分配"],["按活动店铺历史30天GMV表现占比对目标进行分配"]),H=babelHelpers.taggedTemplateLiteral(['<div>\n                  GMV占比\n                  <ant-Popover content="店铺GMV占活动目标的比例">\n                      <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                  </ant-Popover>\n                </div>'],['<div>\n                  GMV占比\n                  <ant-Popover content="店铺GMV占活动目标的比例">\n                      <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                  </ant-Popover>\n                </div>']),V=babelHelpers.taggedTemplateLiteral(['<div><ant-Input onChange={onGMVRateChange(record)} value={record.gmvRate} style="width:80%" />%</div>'],['<div><ant-Input onChange={onGMVRateChange(record)} value={record.gmvRate} style="width:80%" />%</div>']),T=babelHelpers.taggedTemplateLiteral(['<div>\n                GMV值\n                <ant-Popover content="店铺活动GMV目标值">\n                    <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                </ant-Popover>\n              </div>'],['<div>\n                GMV值\n                <ant-Popover content="店铺活动GMV目标值">\n                    <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                </ant-Popover>\n              </div>']),G=babelHelpers.taggedTemplateLiteral(['<ant-Input onChange={onGMVChange(record)} value={record.gmv} style="width:80%" />'],['<ant-Input onChange={onGMVChange(record)} value={record.gmv} style="width:80%" />']),O=babelHelpers.taggedTemplateLiteral(['<div>\n                活动GMV提升能力%\n                <ant-Popover content="店铺GMV目标值相对历史30天表现平均值的提升百分比">\n                    <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                </ant-Popover>\n              </div>'],['<div>\n                活动GMV提升能力%\n                <ant-Popover content="店铺GMV目标值相对历史30天表现平均值的提升百分比">\n                    <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                </ant-Popover>\n              </div>']),R=babelHelpers.taggedTemplateLiteral(['<div><ant-Input onChange={onGMVGrowthChange(record)} value={record.gmvGrowth} style="width:80%" />%</div>'],['<div><ant-Input onChange={onGMVGrowthChange(record)} value={record.gmvGrowth} style="width:80%" />%</div>']),E=babelHelpers.taggedTemplateLiteral(['<div>\n                参活SKU比率\n                <ant-Popover content="对店铺参加活动的sku设定的指标，非必填">\n                    <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                </ant-Popover>\n              </div>'],['<div>\n                参活SKU比率\n                <ant-Popover content="对店铺参加活动的sku设定的指标，非必填">\n                    <ant-Icon type="question-circle-o" style="margin-left:5px;" />\n                </ant-Popover>\n              </div>']),P=babelHelpers.taggedTemplateLiteral(['<div><ant-Input onChange={onSKURateChange(record)} value={record.skuRate} style="width:80%" />%</div>'],['<div><ant-Input onChange={onSKURateChange(record)} value={record.skuRate} style="width:80%" />%</div>']),N=n("./node_modules/react/react.js"),M=(babelHelpers.interopRequireDefault(N),n("./node_modules/mobx-react/index.module.js")),F=n("./node_modules/nornj/dist/nornj.esm.js"),B=babelHelpers.interopRequireDefault(F),q=n("./node_modules/mobx/lib/mobx.module.js"),z=n("./node_modules/nornj-react/lib/base.js"),A=n("./node_modules/vic-common/lib/components/antd/input.js"),W=babelHelpers.interopRequireDefault(A);n("./node_modules/vic-common/lib/components/antd/button.js"),n("./node_modules/vic-common/lib/components/antd/modal.js"),n("./node_modules/vic-common/lib/components/antd/select.js"),n("./node_modules/vic-common/lib/components/antd/calendar.js"),n("./node_modules/vic-common/lib/components/antd/table.js"),n("./node_modules/vic-common/lib/components/antd/cascader.js"),n("./node_modules/vic-common/lib/components/antd/datepicker.js"),n("./node_modules/vic-common/lib/components/antd/popover.js"),n("./node_modules/vic-common/lib/components/antd/upload.js"),n("./node_modules/vic-common/lib/components/antd/icon.js"),n("./node_modules/vic-common/lib/components/antd/radio.js"),n("./node_modules/vic-common/lib/components/antd/alert.js");var U=n("./node_modules/vic-common/lib/components/antd/notification.js"),X=babelHelpers.interopRequireDefault(U),J=n("./node_modules/vic-common/lib/components/antd/message.js"),L=babelHelpers.interopRequireDefault(J),K=n("./node_modules/core-decorators/lib/core-decorators.js"),$=n("./src/web/pages/createStockInventory/createStockInventory.m.scss"),Q=babelHelpers.interopRequireDefault($),Y=n("./src/web/pages/createStockInventory/createStockInventory.t.html"),Z=babelHelpers.interopRequireDefault(Y),ee=(n("./src/web/misc/util.js"),n("./node_modules/moment/moment.js")),te=babelHelpers.interopRequireDefault(ee);n("./node_modules/react-dom/index.js");n("./node_modules/vic-common/lib/components/antd/pagination.js");var ne=n("./node_modules/react-router-dom/es/index.js"),oe=n("./src/web/misc/beforeRoute.js"),ae=(babelHelpers.interopRequireDefault(oe),n("./src/utils/analysis.js")),re=babelHelpers.interopRequireDefault(ae);(0,F.registerComponent)({"cc-Link":ne.Link}),(0,F.registerComponent)({"cc-TextArea":W.default.TextArea});var se=(r=(0,z.registerTmpl)("CreateStockInventory"),s=(0,M.inject)("store"),r(l=s(l=(0,M.observer)((j=S=function(e){function t(n){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return o(a,"eventId",d,a),o(a,"name",p,a),o(a,"reportId",u,a),o(a,"inventoryStartDate",c,a),o(a,"inventoryEndDate",m,a),o(a,"eventStartDate",v,a),o(a,"eventEndDate",y,a),o(a,"desc",f,a),o(a,"gmvTarget",b,a),o(a,"loading",g,a),o(a,"isSubmit",h,a),o(a,"infoAutoFill",_,a),a}return babelHelpers.inherits(t,e),t.prototype.onNameChange=function(e){this.name=e.target.value.trim()},t.prototype.onInventoryStartDateChange=function(e,t){this.inventoryStartDate=t},t.prototype.onInventoryEndDateChange=function(e,t){this.inventoryEndDate=t},t.prototype.onEventStartDateChange=function(e,t){this.eventStartDate=t},t.prototype.onEventEndDateChange=function(e,t){this.eventEndDate=t},t.prototype.onGMVTargetChange=function(e){var t=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;""==e.target.value?this.gmvTarget=null:t.test(e.target.value)&&parseFloat(e.target.value)>=0&&(this.gmvTarget=e.target.value)},t.prototype.onDescChange=function(e){this.desc=e.target.value.trim()},t.prototype.onReportIDChanged=function(e){var t=/^-?(0|[1-9][0-9]*)?$/;""==e.target.value?this.reportId=null:t.test(e.target.value)&&(this.reportId=e.target.value.trim())},t.prototype.autoFill=function(){var e=this;if(this.gmvTarget)if(this.eventStartDate&&this.eventEndDate&&(0,te.default)(this.eventStartDate)<(0,te.default)(this.eventEndDate)){var t=this.props.store.createStockInventory.shopData&&(0,q.toJS)(this.props.store.createStockInventory.shopData).map(function(e){return e.last30DaysGmv?parseFloat(e.last30DaysGmv):0}).reduce(function(e,t){return e+t});(0,q.toJS)(this.props.store.createStockInventory.shopData).forEach(function(n){if(n.last30DaysGmv){var o=parseFloat((n.last30DaysGmv/t*100).toFixed(2));e.props.store.createStockInventory.setShopTargetByID({shopId:n.id,gmvRate:o});var a=(parseFloat(n.last30DaysGmv/t)*e.gmvTarget).toFixed(2);e.props.store.createStockInventory.setShopTargetByID({shopId:n.id,gmv:a});var r=parseFloat(((a/((0,te.default)(e.eventEndDate).diff((0,te.default)(e.eventStartDate),"days")+1)-n.last30DaysGmv/30)/(n.last30DaysGmv/30)*100).toFixed(2));e.props.store.createStockInventory.setShopTargetByID({shopId:n.id,gmvGrowth:r})}})}else X.default.error({message:"请输入正确的活动时间",duration:3});else X.default.error({message:"请输入GMV目标设定",duration:3})},t.prototype.btnSave=function(){var e=this;if(this.isSubmit=!0,!this.props.store.createStockInventory.shopData)return void X.default.error({message:"无店铺数据",duration:3});this.isValid?(this.loading=!0,this.props.store.createStockInventory.createInventory({id:null,name:this.name,reportId:this.reportId,inventoryStartDate:this.inventoryStartDate,inventoryEndDate:this.inventoryEndDate,eventStartDate:this.eventStartDate,eventEndDate:this.eventEndDate,description:this.desc,gmvTarget:this.gmvTarget,eventShopDataList:this.props.store.createStockInventory.shopData&&(0,q.toJS)(this.props.store.createStockInventory.shopData).map(function(e,t){return{id:null,eventId:null,shopId:e.id,shopName:e.name,gmvRatio:e.gmvRate,gmvValue:e.gmv,gmvIncreaseRatio:e.gmvGrowth,actSkuRatio:e.skuRate,last30DaysGmv:e.last30DaysGmv}})},function(t){e.loading=!1,t.success?(X.default.success({message:"创建成功！",duration:3}),e.context.router.history.push("/EditStockInventory/"+t.data.id)):X.default.error({message:"创建失败: "+t.msg,duration:3})}),(0,re.default)("createStockInventory_click_save")):X.default.error({message:"表单填写有错误，请检查。",duration:3})},t.prototype.btnCancel=function(){this.context.router.history.push("/StockInventoryList"),(0,re.default)("createStockInventory_click_cancel")},t.prototype.btnImport=function(){X.default.error({message:"请先保存",duration:3})},t.prototype.btnExport=function(){window.open("http://storage.jd.local/common-resource/stock-data-template.xlsx?Expires=3687768495&AccessKey=jzX04Qp5qTEUVIy1&Signature=k53J5yjbydgPCvAuXYtgvOAQN5s%3D")},babelHelpers.createClass(t,[{key:"isValidName",get:function(){return!!this.name}},{key:"isValidInventoryStartDate",get:function(){return!!this.inventoryStartDate}},{key:"isValidInventoryEndDate",get:function(){return!!this.inventoryEndDate}},{key:"isValidEventStartDate",get:function(){return!!this.eventStartDate}},{key:"isValidEventEndDate",get:function(){return!!this.eventEndDate}},{key:"isValidGMVTarget",get:function(){return!!this.gmvTarget}},{key:"isValidSum",get:function(){return!(this.gmvRateSum>0)||100==this.gmvRateSum}},{key:"isValid",get:function(){return!!(this.isValidName&&this.isValidInventoryStartDate&&this.isValidInventoryEndDate&&this.isValidEventStartDate&&this.isValidEventEndDate&&this.isValidGMVTarget&&this.isValidSum)&&(!((0,te.default)(this.inventoryStartDate)>(0,te.default)(this.inventoryEndDate))&&(!((0,te.default)(this.eventStartDate)>(0,te.default)(this.eventEndDate))&&!((0,te.default)(this.inventoryEndDate)>(0,te.default)(this.eventStartDate))))}},{key:"gmvRateSum",get:function(){var e=this.props.store.createStockInventory.shopData&&(0,q.toJS)(this.props.store.createStockInventory.shopData).map(function(e){return e.gmvRate?parseFloat(e.gmvRate):0}).reduce(function(e,t){return e+t});return e&&e.toFixed(0)}},{key:"gmvSum",get:function(){var e=this.props.store.createStockInventory.shopData&&(0,q.toJS)(this.props.store.createStockInventory.shopData).map(function(e){return e.gmv?parseFloat(e.gmv):0}).reduce(function(e,t){return e+t});return e&&e.toFixed(0)}}]),t.prototype.componentDidMount=function(){var e=L.default.loading("正在获取数据...",0),t={reportId:this.reportId};t.pageNumber=1,Promise.all([this.props.store.createStockInventory.getShopData(t)]).then(function(){e()}),(0,re.default)("createStockInventory_view")},t.prototype.render=function(){var e=this.props.store.createStockInventory,t={name:"file",action:"/api/uploadEventShopStockData",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",data:{eventId:this.eventId},beforeUpload:function(e){var t=e.name.split(".");return"xlsx"==t[t.length-1]||"xls"==t[t.length-1]||(X.default.error({description:"文件类型不正确，只能上传Excell文件。",duration:3}),!1)},onChange:function(e){"done"===e.file.status?0==e.file.response.data.length?X.default.success({description:"上传成功",duration:3}):X.default.error({description:"SKU: "+(e.file.response&&e.file.response.data.join(","))+" 上传失败",duration:3}):"error"===e.file.status&&X.default.error({description:e.file.name+" 上传失败",duration:3})}};return Z.default.createStockInventory(this.state,this.props,this,{styles:Q.default,createStockInventory:e,uploadProps:t,isValidNameShow:this.isSubmit&&0==this.isValidName,isValidInventoryDateShow:this.isSubmit&&(0==this.isValidInventoryStartDate||0==this.isValidInventoryEndDate),isValidEventDateShow:this.isSubmit&&(0==this.isValidEventStartDate||0==this.isValidEventEndDate),isValidGMVTargetShow:this.isSubmit&&0==this.isValidGMVTarget,isValidSumShow:this.isSubmit&&0==this.isValidSum,isValidInventoryDateRangeShow:this.isSubmit&&(0,te.default)(this.inventoryStartDate)>(0,te.default)(this.inventoryEndDate),isValidEventDateRangeShow:this.isSubmit&&(0,te.default)(this.eventStartDate)>(0,te.default)(this.eventEndDate),isValidInventoryDateEventDateRangeShow:this.isSubmit&&(0,te.default)(this.inventoryEndDate)>(0,te.default)(this.eventStartDate)})},t}(N.Component),S.contextTypes={router:N.PropTypes.object.isRequired},i=j,d=a(i.prototype,"eventId",[q.observable],{enumerable:!0,initializer:null}),p=a(i.prototype,"name",[q.observable],{enumerable:!0,initializer:null}),u=a(i.prototype,"reportId",[q.observable],{enumerable:!0,initializer:null}),c=a(i.prototype,"inventoryStartDate",[q.observable],{enumerable:!0,initializer:null}),m=a(i.prototype,"inventoryEndDate",[q.observable],{enumerable:!0,initializer:null}),v=a(i.prototype,"eventStartDate",[q.observable],{enumerable:!0,initializer:null}),y=a(i.prototype,"eventEndDate",[q.observable],{enumerable:!0,initializer:null}),f=a(i.prototype,"desc",[q.observable],{enumerable:!0,initializer:null}),b=a(i.prototype,"gmvTarget",[q.observable],{enumerable:!0,initializer:null}),g=a(i.prototype,"loading",[q.observable],{enumerable:!0,initializer:function(){return!1}}),h=a(i.prototype,"isSubmit",[q.observable],{enumerable:!0,initializer:function(){return!1}}),_=a(i.prototype,"infoAutoFill",[q.observable],{enumerable:!0,initializer:function(){return(0,B.default)(w)()}}),a(i.prototype,"isValidName",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidName"),i.prototype),a(i.prototype,"isValidInventoryStartDate",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidInventoryStartDate"),i.prototype),a(i.prototype,"isValidInventoryEndDate",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidInventoryEndDate"),i.prototype),a(i.prototype,"isValidEventStartDate",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidEventStartDate"),i.prototype),a(i.prototype,"isValidEventEndDate",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidEventEndDate"),i.prototype),a(i.prototype,"isValidGMVTarget",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidGMVTarget"),i.prototype),a(i.prototype,"isValidSum",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValidSum"),i.prototype),a(i.prototype,"isValid",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"isValid"),i.prototype),a(i.prototype,"onNameChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onNameChange"),i.prototype),a(i.prototype,"onInventoryStartDateChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onInventoryStartDateChange"),i.prototype),a(i.prototype,"onInventoryEndDateChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onInventoryEndDateChange"),i.prototype),a(i.prototype,"onEventStartDateChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onEventStartDateChange"),i.prototype),a(i.prototype,"onEventEndDateChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onEventEndDateChange"),i.prototype),a(i.prototype,"onGMVTargetChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onGMVTargetChange"),i.prototype),a(i.prototype,"onDescChange",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onDescChange"),i.prototype),a(i.prototype,"onReportIDChanged",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"onReportIDChanged"),i.prototype),a(i.prototype,"gmvRateSum",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"gmvRateSum"),i.prototype),a(i.prototype,"gmvSum",[q.computed],Object.getOwnPropertyDescriptor(i.prototype,"gmvSum"),i.prototype),a(i.prototype,"autoFill",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"autoFill"),i.prototype),a(i.prototype,"btnSave",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"btnSave"),i.prototype),a(i.prototype,"btnCancel",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"btnCancel"),i.prototype),a(i.prototype,"btnImport",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"btnImport"),i.prototype),a(i.prototype,"btnExport",[K.autobind],Object.getOwnPropertyDescriptor(i.prototype,"btnExport"),i.prototype),l=i))||l)||l)||l);t.default=se;x=(0,z.registerTmpl)("tableTmplCreate"),I=(0,M.inject)("store"),x(D=I(D=(0,M.observer)((k=function(e){function t(n){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return o(a,"tableColumns",C,a),a}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){},t.prototype.onGMVRateChange=function(e){var t=this;return function(n){var o=/^-?([0-9]*)(\.[0-9]{0,2})?$/;if(""==n.target.value)return t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvRate:""}),t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmv:""}),void t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvGrowth:""});if(o.test(n.target.value)){var a=n.target.value;t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvRate:a});var r=t.props.gmvTarget&&(parseFloat(t.props.gmvTarget*(parseFloat(a)/100))||"").toFixed(2);t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmv:r});var s=null;t.props.eventStartDate&&t.props.eventEndDate&&(0,te.default)(t.props.eventStartDate)<(0,te.default)(t.props.eventEndDate)&&(s=parseFloat(((r/((0,te.default)(t.props.eventEndDate).diff((0,te.default)(t.props.eventStartDate),"days")+1)-e.last30DaysGmv/30)/(e.last30DaysGmv/30)*100).toFixed(2))),t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvGrowth:s})}}},t.prototype.onGMVChange=function(e){var t=this;return function(n){var o=/^-?([0-9]*)(\.[0-9]{0,2})?$/;if(""==n.target.value)return t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvRate:""}),t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmv:""}),void t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvGrowth:""});if(o.test(n.target.value)){var a=n.target.value;t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmv:a});var r=(parseFloat(parseFloat(a)/t.props.gmvTarget*100)||"").toFixed(2);t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvRate:r});var s=null;t.props.eventStartDate&&t.props.eventEndDate&&(0,te.default)(t.props.eventStartDate)<(0,te.default)(t.props.eventEndDate)&&(s=parseFloat(((a/((0,te.default)(t.props.eventEndDate).diff((0,te.default)(t.props.eventStartDate),"days")+1)-e.last30DaysGmv/30)/(e.last30DaysGmv/30)*100).toFixed(2))),t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvGrowth:s})}}},t.prototype.onGMVGrowthChange=function(e){var t=this;return function(n){var o=/^-?([0-9]*)(\.[0-9]{0,2})?$/;if(""==n.target.value)return t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvRate:""}),t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmv:""}),void t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvGrowth:""});if(o.test(n.target.value)){var a=n.target.value;t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvGrowth:a});var r=null;t.props.eventStartDate&&t.props.eventEndDate&&(0,te.default)(t.props.eventStartDate)<(0,te.default)(t.props.eventEndDate)&&(r=(parseFloat(a)/100*(e.last30DaysGmv/30)+e.last30DaysGmv/30)*((0,te.default)(t.props.eventEndDate).diff((0,te.default)(t.props.eventStartDate),"days")+1)),t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmv:r.toFixed(2)});var s=t.props.gmvTarget&&r&&(parseFloat(r/t.props.gmvTarget*100)||"").toFixed(2);t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,gmvRate:s})}}},t.prototype.onSKURateChange=function(e){var t=this;return function(n){/^-?([0-9]*)(\.[0-9]{0,2})?$/.test(n.target.value)&&n.target.value>=0&&n.target.value<100&&t.props.store.createStockInventory.setShopTargetByID({shopId:e.id,skuRate:n.target.value})}},t.prototype.render=function(){var e=this.props.store.createStockInventory;return Z.default.tableTmplCreate(this.state,this.props,this,{styles:Q.default,createStockInventory:e})},babelHelpers.createClass(t,[{key:"tableScroll",get:function(){return{y:500}}},{key:"tableData",get:function(){return this.props.store.createStockInventory.shopData&&(0,q.toJS)(this.props.store.createStockInventory.shopData).map(function(e,t){return{key:t,id:e.id,name:e.name,gmvRate:e.gmvRate,gmv:e.gmv,gmvGrowth:e.gmvGrowth,skuRate:e.skuRate,last30DaysGmv:e.last30DaysGmv}})}}]),t}(N.Component),a(k.prototype,"tableScroll",[q.computed],Object.getOwnPropertyDescriptor(k.prototype,"tableScroll"),k.prototype),a(k.prototype,"onGMVRateChange",[K.autobind],Object.getOwnPropertyDescriptor(k.prototype,"onGMVRateChange"),k.prototype),a(k.prototype,"onGMVChange",[K.autobind],Object.getOwnPropertyDescriptor(k.prototype,"onGMVChange"),k.prototype),a(k.prototype,"onGMVGrowthChange",[K.autobind],Object.getOwnPropertyDescriptor(k.prototype,"onGMVGrowthChange"),k.prototype),a(k.prototype,"onSKURateChange",[K.autobind],Object.getOwnPropertyDescriptor(k.prototype,"onSKURateChange"),k.prototype),C=a(k.prototype,"tableColumns",[q.observable],{enumerable:!0,initializer:function(){var e=this;return[{key:"id",title:"店铺ID",dataIndex:"id",width:"10%"},{key:"name",title:"店铺名称",dataIndex:"name",width:"26%"},{key:"gmvRate",title:(0,B.default)(H)(),dataIndex:"gmvRate",width:"15%",render:function(t,n,o){return(0,B.default)(V)({onGMVRateChange:e.onGMVRateChange,record:n})}},{key:"gmv",title:(0,B.default)(T)(),dataIndex:"gmv",width:"15%",render:function(t,n,o){return(0,B.default)(G)({onGMVChange:e.onGMVChange,record:n})}},{key:"gmvGrowth",title:(0,B.default)(O)(),dataIndex:"gmvGrowth",width:"19%",render:function(t,n,o){return(0,B.default)(R)({onGMVGrowthChange:e.onGMVGrowthChange,record:n})}},{key:"skuRate",title:(0,B.default)(E)(),dataIndex:"skuRate",width:"15%",render:function(t,n,o){return(0,B.default)(P)({onSKURateChange:e.onSKURateChange,record:n})}}]}}),a(k.prototype,"tableData",[q.computed],Object.getOwnPropertyDescriptor(k.prototype,"tableData"),k.prototype),D=k))||D)||D)},'./node_modules/css-loader/index.js?{"modules":true,"localIdentName":"[name]__[local]-[hash:base64:5]"}!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/index.js!./src/web/pages/createStockInventory/createStockInventory.m.scss':function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(void 0),t.push([e.i,".createStockInventory-m__createStockInventory-1TNX0 {\n  padding-top: 80px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__pageCnt-LbH9F {\n    margin: 20px;\n    padding: 20px;\n    background: #fff;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__pageTitle-2Bc0J {\n    font-size: 18px;\n    font-weight: normal;\n    position: relative;\n    line-height: 100%;\n    padding: 0 0 20px 10px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__pageTitle-2Bc0J:before {\n      content: '';\n      position: absolute;\n      left: 0;\n      height: 16px;\n      width: 3px;\n      background: #e13a25; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__formWrap-16W-I .fj-col12 {\n    padding: 10px 0; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__formWrap-16W-I .field {\n    display: inline-block;\n    width: 25%;\n    white-space: nowrap; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__formWrap-16W-I textarea {\n    height: 100px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__formWrap-16W-I .createStockInventory-m__split-2QB3- {\n    margin: 0 10px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__tableWrap-36r41 {\n    margin-top: 30px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__sum-35Mih {\n    width: 300px;\n    text-align: center;\n    margin-top: 20px;\n    border: 1px solid #e9e9e9; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__sum-35Mih .fj-col6 {\n      padding: 10px 0; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__sum-35Mih .createStockInventory-m__title-33ymt {\n      background: #3660b3;\n      color: #fff; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__submitWrap-1Uu1y {\n    margin-top: 50px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__submitWrap-1Uu1y .ant-alert {\n      margin-top: 5px; }\n  .createStockInventory-m__createStockInventory-1TNX0 .createStockInventory-m__error-2mAe3 {\n    border: 1px solid #e13a25; }\n",""]),t.locals={createStockInventory:"createStockInventory-m__createStockInventory-1TNX0",pageCnt:"createStockInventory-m__pageCnt-LbH9F",pageTitle:"createStockInventory-m__pageTitle-2Bc0J",formWrap:"createStockInventory-m__formWrap-16W-I",split:"createStockInventory-m__split-2QB3-",tableWrap:"createStockInventory-m__tableWrap-36r41",sum:"createStockInventory-m__sum-35Mih",title:"createStockInventory-m__title-33ymt",submitWrap:"createStockInventory-m__submitWrap-1Uu1y",error:"createStockInventory-m__error-2mAe3"}},"./node_modules/vic-common/lib/components/antd/alert.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/alert/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/alert/style/index.js"),(0,o.registerComponent)({"ant-Alert":r.default}),t.Alert=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/button/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/button/style/index.js"),(0,o.registerComponent)({"ant-Button":r.default}),t.Button=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/calendar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Calendar=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/calendar/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/calendar/style/index.js"),(0,o.registerComponent)({"ant-Calendar":r.default}),t.Calendar=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/cascader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cascader=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/cascader/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/cascader/style/index.js"),(0,o.registerComponent)({"ant-Cascader":r.default}),t.Cascader=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/datepicker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatePicker=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/date-picker/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/date-picker/style/index.js"),(0,o.registerComponent)({"ant-DatePicker":r.default,"ant-MonthPicker":r.default.MonthPicker,"ant-RangePicker":r.default.RangePicker}),t.DatePicker=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/input.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/input/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/input/style/index.js"),(0,o.registerComponent)({"ant-Input":r.default,"ant-InputGroup":r.default.Group}),t.Input=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/message.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/message/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/message/style/index.js"),(0,o.registerComponent)({"ant-Message":r.default}),t.Message=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/pagination.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/pagination/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/pagination/style/index.js"),(0,o.registerComponent)({"ant-Pagination":r.default}),t.Pagination=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/radio.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Radio=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/radio/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/radio/style/index.js"),(0,o.registerComponent)({"ant-Radio":r.default,"ant-RadioButton":r.default.Button,"ant-RadioGroup":r.default.Group}),t.Radio=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/select.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptGroup=t.Option=t.Select=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/select/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/select/style/index.js");var s=r.default.Option,l=r.default.OptGroup;(0,o.registerComponent)({"ant-Select":r.default,"ant-Option":s,"ant-OptGroup":l}),t.Select=r.default,t.Option=s,t.OptGroup=l,t.default=r.default},"./node_modules/vic-common/lib/components/antd/table.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/table/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/table/style/index.js"),n("./node_modules/antd/lib/spin/style/index.js"),n("./node_modules/antd/lib/checkbox/style/index.js"),n("./node_modules/antd/lib/dropdown/style/index.js"),n("./node_modules/antd/lib/select/style/index.js");var s=r.default.Column,l=r.default.ColumnGroup;(0,o.registerComponent)({"ant-Table":r.default,"ant-TableColumn":s,"ant-TableColumnGroup":l}),t.Table=r.default,t.default=r.default},"./node_modules/vic-common/lib/components/antd/upload.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=void 0;var o=n("./node_modules/nornj/dist/nornj.esm.js"),a=n("./node_modules/antd/lib/upload/index.js"),r=babelHelpers.interopRequireDefault(a);n("./node_modules/antd/lib/upload/style/index.js"),(0,o.registerComponent)({"ant-Upload":r.default}),t.Upload=r.default,t.default=r.default},"./src/web/pages/createStockInventory/createStockInventory.m.scss":function(e,t,n){var o=n('./node_modules/css-loader/index.js?{"modules":true,"localIdentName":"[name]__[local]-[hash:base64:5]"}!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/index.js!./src/web/pages/createStockInventory/createStockInventory.m.scss');"string"==typeof o&&(o=[[e.i,o,""]]);n("./node_modules/style-loader/addStyles.js")(o,{});o.locals&&(e.exports=o.locals)},"./src/web/pages/createStockInventory/createStockInventory.t.html":function(e,t,n){"use strict";var o=n("./node_modules/nornj/dist/nornj.esm.js");e.exports={createStockInventory:o.compileH({_njTmplKey:-454234073,useString:!1,fn1:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"请输入活动名称",type:"error"},l=[r,s];return e.H(l)},fn2:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"请输入盘货时间",type:"error"},l=[r,s];return e.H(l)},fn3:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"请输入活动时间",type:"error"},l=[r,s];return e.H(l)},fn4:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"请输入GMV目标",type:"error"},l=[r,s];return e.H(l)},fn5:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"您输入的GMV占比合计需等于100%",type:"error"},l=[r,s];return e.H(l)},fn6:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"盘货时间区间不正确",type:"error"},l=[r,s];return e.H(l)},fn7:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"活动时间区间不正确",type:"error"},l=[r,s];return e.H(l)},fn8:function(e,t,n,o,a){var r=e.e("ant-alert",e,"ant-Alert",t),s={message:"活动时间不能早于盘货时间",type:"error"},l=[r,s];return e.H(l)},fn9:function(e,t,n,o,a){var r=e.e("ant-button",e,"ant-Button",t),s={onClick:t.d("btnImport"),size:"large"},l=[r,s];return l.push("文件导入"),e.H(l)},fn10:function(e,t,n,o,a){var r=e.e("ant-upload",e,"ant-Upload",t),s=null,l={},i=e.x.spread,d=[t.d("uploadProps"),{_njOpts:!0,_njFnsNo:10,global:e,context:t,outputH:!0,useString:!1,exProps:l,subExProps:a,parentName:"ant-Upload",name:"spread",result:e.np}];i.apply(t,d),s=l;var p=[r,s],u=e.e("ant-button",e,"ant-Button",t),c={size:"large"},m=[u,c];return m.push("文件导入"),p.push(e.H(m)),e.H(p)},main:function(e,t,n,o,a){var r,s=e.e("div",e,"div",t),l=t.d("styles");r=e.f["."].apply(t,[l,"createStockInventory"]),l=r;var i={className:l},d=[s,i],p=e.e("div",e,"div",t),u=t.d("styles");r=e.f["."].apply(t,[u,"pageCnt"]),u=r;var c={className:u},m=[p,c],v=e.e("div",e,"div",t),y=t.d("styles");r=e.f["."].apply(t,[y,"pageTitle"]),y=r;var f={className:y},b=[v,f];b.push("创建盘货活动"),m.push(e.H(b));var g=e.e("fj-row",e,"fj-Row",t),h=t.d("styles");r=e.f["."].apply(t,[h,"formWrap"]),h=r;var _={className:h+" clearfix"},S=[g,_],j=e.e("fj-col",e,"fj-Col",t),x={l:"6"},I=[j,x],D=e.e("fj-row",e,"fj-Row",t),k={className:"clearfix"},C=[D,k],w=e.e("fj-col",e,"fj-Col",t),H={l:"12"},V=[w,H],T=e.e("span",e,"span",t),G={className:"field"},O=[T,G];O.push("活动名称"),V.push(e.H(O));var R=e.e("ant-input",e,"ant-Input",t),E=t.d("isValidNameShow"),P=e.f["?"],N=t.d("styles");r=e.f["."].apply(t,[N,"error"]),N=r,r=P.apply(t,[E,N,""]),E=r;var M={placeholder:"请输入",style:e.sp("width:70%"),onChange:t.d("onNameChange"),className:E},F=[R,M];V.push(e.H(F)),C.push(e.H(V));var B=e.e("fj-clearfix",e,"fj-Clearfix",t),q=[B,null];C.push(e.H(q));var z=e.e("fj-col",e,"fj-Col",t),A={l:"12"},W=[z,A],U=e.e("span",e,"span",t),X={className:"field"},J=[U,X];J.push("盘货时间"),W.push(e.H(J));var L=e.e("ant-datepicker",e,"ant-DatePicker",t),K=t.d("isValidInventoryDateShow"),$=e.f["?"],Q=t.d("styles");r=e.f["."].apply(t,[Q,"error"]),Q=r,r=$.apply(t,[K,Q,""]),K=r;var Y={onChange:t.d("onInventoryStartDateChange"),ref:"datepicker",style:e.sp("width:30%"),placeholder:"请选择日期",className:K},Z=[L,Y];W.push(e.H(Z));var ee=e.e("span",e,"span",t),te=t.d("styles");r=e.f["."].apply(t,[te,"split"]),te=r;var ne={className:te},oe=[ee,ne];oe.push("-"),W.push(e.H(oe));var ae=e.e("ant-datepicker",e,"ant-DatePicker",t),re=t.d("isValidInventoryDateShow"),se=e.f["?"],le=t.d("styles");r=e.f["."].apply(t,[le,"error"]),le=r,r=se.apply(t,[re,le,""]),re=r;var ie={onChange:t.d("onInventoryEndDateChange"),ref:"datepicker",style:e.sp("width:30%"),placeholder:"请选择日期",className:re},de=[ae,ie];W.push(e.H(de)),C.push(e.H(W));var pe=e.e("fj-clearfix",e,"fj-Clearfix",t),ue=[pe,null];C.push(e.H(ue));var ce=e.e("fj-col",e,"fj-Col",t),me={l:"12"},ve=[ce,me],ye=e.e("span",e,"span",t),fe={className:"field"},be=[ye,fe];be.push("活动时间"),ve.push(e.H(be));var ge=e.e("ant-datepicker",e,"ant-DatePicker",t),he=t.d("isValidEventDateShow"),_e=e.f["?"],Se=t.d("styles");r=e.f["."].apply(t,[Se,"error"]),Se=r,r=_e.apply(t,[he,Se,""]),he=r;var je={onChange:t.d("onEventStartDateChange"),ref:"datepicker",style:e.sp("width:30%"),placeholder:"请选择日期",className:he},xe=[ge,je];ve.push(e.H(xe));var Ie=e.e("span",e,"span",t),De=t.d("styles");r=e.f["."].apply(t,[De,"split"]),De=r;var ke={className:De},Ce=[Ie,ke];Ce.push("-"),ve.push(e.H(Ce));var we=e.e("ant-datepicker",e,"ant-DatePicker",t),He=t.d("isValidEventDateShow"),Ve=e.f["?"],Te=t.d("styles");r=e.f["."].apply(t,[Te,"error"]),Te=r,r=Ve.apply(t,[He,Te,""]),He=r;var Ge={onChange:t.d("onEventEndDateChange"),ref:"datepicker",style:e.sp("width:30%"),placeholder:"请选择日期",className:He},Oe=[we,Ge];ve.push(e.H(Oe)),C.push(e.H(ve));var Re=e.e("fj-clearfix",e,"fj-Clearfix",t),Ee=[Re,null];C.push(e.H(Ee));var Pe=e.e("fj-col",e,"fj-Col",t),Ne={l:"12"},Me=[Pe,Ne],Fe=e.e("span",e,"span",t),Be={className:"field"},qe=[Fe,Be];qe.push("GMV目标设定"),Me.push(e.H(qe));var ze=e.e("ant-input",e,"ant-Input",t),Ae=t.d("isValidGMVTargetShow"),We=e.f["?"],Ue=t.d("styles");r=e.f["."].apply(t,[Ue,"error"]),Ue=r,r=We.apply(t,[Ae,Ue,""]),Ae=r;var Xe={placeholder:"请输入",style:e.sp("width:30%"),onChange:t.d("onGMVTargetChange"),value:t.d("gmvTarget"),className:Ae},Je=[ze,Xe];Me.push(e.H(Je));var Le=e.e("ant-button",e,"ant-Button",t),Ke={type:"primary",onClick:t.d("autoFill"),style:e.sp("margin-left:10px;")},$e=[Le,Ke];$e.push("自动分配"),Me.push(e.H($e));var Qe=e.e("ant-popover",e,"ant-Popover",t),Ye={content:t.d("infoAutoFill")},Ze=[Qe,Ye],et=e.e("ant-icon",e,"ant-Icon",t),tt={type:"question-circle-o",style:e.sp("margin-left:5px;")},nt=[et,tt];Ze.push(e.H(nt)),Me.push(e.H(Ze)),C.push(e.H(Me)),I.push(e.H(C)),S.push(e.H(I));var ot=e.e("fj-col",e,"fj-Col",t),at={l:"6"},rt=[ot,at],st=e.e("fj-row",e,"fj-row",t),lt=t.d("styles");r=e.f["."].apply(t,[lt,"formRight"]),lt=r;var it={className:lt+" clearfix"},dt=[st,it],pt=e.e("fj-clearfix",e,"fj-Clearfix",t),ut=[pt,null];dt.push(e.H(ut));var ct=e.e("fj-col",e,"fj-Col",t),mt={l:"12"},vt=[ct,mt],yt=e.e("span",e,"span",t),ft={className:"field",style:e.sp("height:100px;")},bt=[yt,ft];bt.push("活动描述"),vt.push(e.H(bt));var gt=e.e("cc-textarea",e,"cc-TextArea",t),ht={style:e.sp("width:70%"),onChange:t.d("onDescChange"),value:t.d("desc")},_t=[gt,ht];vt.push(e.H(_t)),dt.push(e.H(vt)),rt.push(e.H(dt)),S.push(e.H(rt)),m.push(e.H(S));var St=e.e("tabletmplcreate",e,"tableTmplCreate",t),jt={gmvTarget:t.d("gmvTarget"),eventStartDate:t.d("eventStartDate"),eventEndDate:t.d("eventEndDate")},xt=[St,jt];m.push(e.H(xt));var It=e.e("div",e,"div",t),Dt=t.d("styles");r=e.f["."].apply(t,[Dt,"sum"]),Dt=r;var kt={className:Dt},Ct=[It,kt],wt=e.e("fj-row",e,"fj-row",t),Ht=t.d("styles");r=e.f["."].apply(t,[Ht,"title"]),Ht=r;var Vt={className:Ht+" clearfix"},Tt=[wt,Vt],Gt=e.e("fj-col",e,"fj-Col",t),Ot={l:"6"},Rt=[Gt,Ot];Rt.push("占比合计"),Tt.push(e.H(Rt));var Et=e.e("fj-col",e,"fj-Col",t),Pt={l:"6"},Nt=[Et,Pt];Nt.push("值合计"),Tt.push(e.H(Nt)),Ct.push(e.H(Tt));var Mt=e.e("fj-row",e,"fj-row",t),Ft={className:"clearfix"},Bt=[Mt,Ft],qt=e.e("fj-col",e,"fj-Col",t),zt={l:"6"},At=[qt,zt],Wt=t.d("gmvRateSum");r=e.f.or.apply(t,[Wt,0]),Wt=r,At.push(Wt+"%"),Bt.push(e.H(At));var Ut=e.e("fj-col",e,"fj-Col",t),Xt={l:"6"},Jt=[Ut,Xt];Jt.push(t.d("gmvSum")),Bt.push(e.H(Jt)),Ct.push(e.H(Bt)),m.push(e.H(Ct));var Lt=e.e("div",e,"div",t),Kt=t.d("styles");r=e.f["."].apply(t,[Kt,"submitWrap"]),Kt=r;var $t={className:Kt+" clearfix"},Qt=[Lt,$t],Yt=e.e("div",e,"div",t),Zt={className:"fr"},en=[Yt,Zt],tn=e.e("div",e,"div",t),nn={style:e.sp("margin-bottom:20px;")},on=[tn,nn],an=e.x.if,rn=[t.d("isValidNameShow"),{_njOpts:!0,_njFnsNo:1,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn1,o,a),level:5}];on.push(an.apply(t,rn));var sn=e.x.if,ln=[t.d("isValidInventoryDateShow"),{_njOpts:!0,_njFnsNo:2,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn2,o,a),level:5}];on.push(sn.apply(t,ln));var dn=e.x.if,pn=[t.d("isValidEventDateShow"),{_njOpts:!0,_njFnsNo:3,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn3,o,a),level:5}];on.push(dn.apply(t,pn));var un=e.x.if,cn=[t.d("isValidGMVTargetShow"),{_njOpts:!0,_njFnsNo:4,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn4,o,a),level:5}];on.push(un.apply(t,cn));var mn=e.x.if,vn=[t.d("isValidSumShow"),{_njOpts:!0,_njFnsNo:5,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn5,o,a),level:5}];on.push(mn.apply(t,vn));var yn=e.x.if,fn=[t.d("isValidInventoryDateRangeShow"),{_njOpts:!0,_njFnsNo:6,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn6,o,a),level:5}];on.push(yn.apply(t,fn));var bn=e.x.if,gn=[t.d("isValidEventDateRangeShow"),{_njOpts:!0,_njFnsNo:7,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn7,o,a),level:5}];on.push(bn.apply(t,gn));var hn=e.x.if,_n=[t.d("isValidInventoryDateEventDateRangeShow"),{_njOpts:!0,_njFnsNo:8,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn8,o,a),level:5}];on.push(hn.apply(t,_n)),en.push(e.H(on));var Sn=e.e("div",e,"div",t),jn={className:"tr"},xn=[Sn,jn],In=e.e("ant-button",e,"ant-Button",t),Dn={type:"primary",onClick:t.d("btnSave"),size:"large",loading:t.d("loading")},kn=[In,Dn];kn.push("保存"),xn.push(e.H(kn));var Cn=e.e("ant-button",e,"ant-Button",t),wn={onClick:t.d("btnCancel"),style:e.sp("margin-left:20px;"),size:"large"},Hn=[Cn,wn];Hn.push("取消"),xn.push(e.H(Hn)),en.push(e.H(xn)),Qt.push(e.H(en));var Vn=e.e("div",e,"div",t),Tn=[Vn,null],Gn=e.e("span",e,"span",t),On={style:e.sp("margin-right:20px;")},Rn=[Gn,On];Rn.push("盘货数据导入"),Tn.push(e.H(Rn));var En=e.e("ant-button",e,"ant-Button",t),Pn={onClick:t.d("btnExport"),size:"large",style:e.sp("margin-right:20px;")},Nn=[En,Pn];Nn.push("模板导出"),Tn.push(e.H(Nn));var Mn=e.x.if,Fn=null,Bn={},qn=e.x.else,zn=[{_njOpts:!0,_njFnsNo:9,global:e,context:t,outputH:!0,useString:!1,subExProps:Bn,parentName:"nj_ex",name:"else",result:e.r(e,t,e.fn9,o,Bn)}];qn.apply(t,zn),Fn=Bn;var An=[t.d("eventId"),{_njOpts:!0,_njFnsNo:10,global:e,context:t,outputH:!0,useString:e.us,parentName:"div",name:"if",result:e.r(e,t,e.fn10,o,a),props:Fn,level:4}];return e.aa(Fn,An),Tn.push(Mn.apply(t,An)),Qt.push(e.H(Tn)),m.push(e.H(Qt)),d.push(e.H(m)),e.H(d)}}),tableTmplCreate:o.compileH({_njTmplKey:703684389,useString:!1,main:function(e,t,n,o,a){var r,s=e.e("div",e,"div",t),l=t.d("styles");r=e.f["."].apply(t,[l,"tableWrap"]),l=r;var i,d={className:l},p=[s,d],u=e.e("ant-table",e,"ant-Table",t),c=null,m=t.d("toJS",0,!0);i=m?m.val:e.f.toJS,r=i.apply(m?m._njCtx:t,[t.d("tableColumns")]),c=r;var v,y=null,f=t.d("toJS",0,!0);v=f?f.val:e.f.toJS,r=v.apply(f?f._njCtx:t,[t.d("tableData")]),y=r;var b={columns:c,dataSource:y,pagination:!1,scroll:t.d("tableScroll")},g=[u,b];return p.push(e.H(g)),e.H(p)}})}}});